{"version":3,"sources":["../../../../assets/Script/assets/Script/HeroComp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAsC,4BAAY;IADlD;QAAA,qEAgDC;QA5CG,QAAE,GAAG,GAAG,CAAA;QAGR,eAAS,GAAG,GAAG,CAAA;QAGf,aAAO,GAAY,IAAI,CAAA;QAEvB,qBAAe,GAAY,EAAE,CAAC,IAAI,CAAC,IAAI,CAAA;;IAoC3C,CAAC;IAjCG,wBAAK,GAAL;QACI,IAAI,CAAC,aAAa,EAAE,CAAA;IACxB,CAAC;IAED,yBAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAA;QACrC,wCAAwC;IAC5C,CAAC;IAEO,gCAAa,GAArB;QACI,4EAA4E;IAChF,CAAC;IAED,kCAAe,GAAf,UAAgB,IAAa;QACzB,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAC3B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAA;YACnC,OAAM;SACT;QACD,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;QAC/C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAA;QAC3B,IAAI,WAAW,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAA;QACzD,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC;YACV,WAAW,IAAI,CAAC,CAAC,CAAA;QACrB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,WAAW,CAAA;IACpC,CAAC;IAED,iCAAc,GAAd,UAAe,GAAY;QACvB,IAAI,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QACtC,IAAI,WAAW,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAA;QACzD,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC;YACV,WAAW,IAAI,CAAC,CAAC,CAAA;QACrB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,WAAW,CAAA;IACpC,CAAC;IA3CD;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;wCACb;IAGR;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACJ;IAGf;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACK;IATN,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA+C5B;IAAD,eAAC;CA/CD,AA+CC,CA/CqC,EAAE,CAAC,SAAS,GA+CjD;kBA/CoB,QAAQ","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class HeroComp extends cc.Component {\n\n    @property(cc.Integer)\n    HP = 100\n\n    @property(cc.Float)\n    MoveSpeed = 100\n\n    @property(cc.Node)\n    HeroObj: cc.Node = null\n\n    TargetDirection: cc.Vec2 = cc.Vec2.ZERO\n\n\n    start() {\n        this.initListeners()\n    }\n\n    update(dt) {\n        this.node.x += this.TargetDirection.x\n        // this.node.y += this.TargetDirection.y\n    }\n\n    private initListeners() {\n        // this.btn.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\n    }\n\n    moveByDirection(dire: cc.Vec2) {\n        if (dire.equals(cc.Vec2.ZERO)) {\n            this.TargetDirection = cc.Vec2.ZERO\n            return\n        }\n        dire = dire.normalizeSelf().mul(this.MoveSpeed)\n        this.TargetDirection = dire\n        let targetAngel = -dire.angle(cc.Vec2.UP) * 180 / Math.PI\n        if (dire.x < 0)\n            targetAngel *= -1\n        this.HeroObj.angle = targetAngel\n    }\n\n    lookAtPosition(obj: cc.Vec2) {\n        let dire = obj.sub(this.node.position)\n        let targetAngel = -dire.angle(cc.Vec2.UP) * 180 / Math.PI\n        if (dire.x < 0)\n            targetAngel *= -1\n        this.HeroObj.angle = targetAngel\n    }\n}\n"]}